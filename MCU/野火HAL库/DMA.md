DMA :Direct Memory Access

DMA一般有多个通道，当发生多个通道请求时，仲裁器将会先按DMA_CCRx寄存器中的优先级(非常高、高、中、低)排序,排序高的优先响应，而当多个通道处于同一软件优先级时，将会按通道编号进行优先级排序，编号越低的通道优先级越高。


DMA传输方向：
1. 外设到存储器：读
2. 存储器到外设：写
3. 存储器到存储器：读写

要想数据传输正确，源和目标地址存储的数据宽度必须一致，例如串口数据寄存器是8位的，所以定义要发送的数据也必须是8位。

DMA对系统的影响：
> DMA控制器和Cortex™-M3核心共享系统数据总线，执行直接存储器数据传输。当CPU和DMA同时访问相同的目标(RAM或外设)时，DMA请求会暂停CPU访问系统总线达若干个周期，总线仲裁器执行循环调度，以保证CPU至少可以得到一半的系统总线(存储器或外设)带宽。--《STM32f1xx中文参考手册》-10.3节DMA功能描述

通道配置过程：《参考手册》
1. 在DMA_CPARx寄存器中设置外设寄存器的地址；
2. 在DMA_CMARx寄存器中设置数据寄存器的地址；
3. 在DMA_CNDTRx寄存器中设置要传输的数据量;
4. 在DMA_CCRx寄存器的PL[1:0]位中设置通道优先级;
5. 在DMA_CCRx寄存器中设置数据传输的方向、循环模式、增量模式、数据宽度、中断配置；
6. 设置DMA_CCRx寄存器的ENABLE位，启动该通道；

DMA编程：HAL库


DMA模式：
1.循环模式
2.存储器到存储器模式
循环模式和存储器模式到存储器模式不能共用。

HAL库编程：



疑问：
1.《STM32F1xx-中文参考手册》10.3.1节中描述道：“在发生一个事件后，外设向DMA控制器发送一个请求信号”
> 好奇的是这个行为具体是什么样的？事件是指与中断区分开来的那个`事件`？还是就普通含义，外设向DMA发送一个请求信号是指什么意思？